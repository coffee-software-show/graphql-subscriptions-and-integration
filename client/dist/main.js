(()=>{"use strict";var e,t;function n(e,t){if(!Boolean(e))throw new Error(t)}(t=e||(e={})).NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";const i=10,r=2;function s(e){return o(e,[])}function o(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:o(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>r)return"[Array]";const n=Math.min(i,e.length),s=e.length-n,a=[];for(let i=0;i<n;++i)a.push(o(e[i],t));return 1===s?a.push("... 1 more item"):s>1&&a.push(`... ${s} more items`),"["+a.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>r)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const i=n.map((([e,n])=>e+": "+o(n,t)));return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}class a{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class c{constructor(e,t,n,i,r,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const u={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},l=new Set(Object.keys(u));function p(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&l.has(t)}var h;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(h||(h={}));const d=Object.freeze({});function f(t,i,r=u){const o=new Map;for(const t of Object.values(e))o.set(t,v(i,t));let a,c,l,h=Array.isArray(t),f=[t],E=-1,m=[],y=t;const T=[],N=[];do{E++;const e=E===f.length,t=e&&0!==m.length;if(e){if(c=0===N.length?void 0:T[T.length-1],y=l,l=N.pop(),t)if(h){y=y.slice();let e=0;for(const[t,n]of m){const i=t-e;null===n?(y.splice(i,1),e++):y[i]=n}}else{y=Object.defineProperties({},Object.getOwnPropertyDescriptors(y));for(const[e,t]of m)y[e]=t}E=a.index,f=a.keys,m=a.edits,h=a.inArray,a=a.prev}else if(l){if(c=h?E:f[E],y=l[c],null==y)continue;T.push(c)}let u;if(!Array.isArray(y)){var x,I;p(y)||n(!1,`Invalid AST Node: ${s(y)}.`);const t=e?null===(x=o.get(y.kind))||void 0===x?void 0:x.leave:null===(I=o.get(y.kind))||void 0===I?void 0:I.enter;if(u=null==t?void 0:t.call(i,y,c,l,T,N),u===d)break;if(!1===u){if(!e){T.pop();continue}}else if(void 0!==u&&(m.push([c,u]),!e)){if(!p(u)){T.pop();continue}y=u}}var O;void 0===u&&t&&m.push([c,y]),e?T.pop():(a={inArray:h,index:E,keys:f,edits:m,prev:a},h=Array.isArray(y),f=h?y:null!==(O=r[y.kind])&&void 0!==O?O:[],E=-1,m=[],l&&N.push(l),l=y)}while(void 0!==a);return 0!==m.length?m[m.length-1][1]:t}function v(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function E(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const m=/\r\n|[\n\r]/g;function y(e,t){let n=0,i=1;for(const r of e.body.matchAll(m)){if("number"==typeof r.index||E(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function T(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,s=e.locationOffset.line-1,o=t.line+s,a=1===t.line?n:0,c=t.column+a,u=`${e.name}:${o}:${c}\n`,l=i.split(/\r\n|[\n\r]/g),p=l[r];if(p.length>120){const e=Math.floor(c/80),t=c%80,n=[];for(let e=0;e<p.length;e+=80)n.push(p.slice(e,e+80));return u+N([[`${o} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return u+N([[o-1+" |",l[r-1]],[`${o} |`,p],["|","^".padStart(c)],[`${o+1} |`,l[r+1]]])}function N(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class x extends Error{constructor(e,...t){var n,i,r;const{nodes:s,source:o,positions:a,path:c,originalError:u,extensions:l}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=c?c:void 0,this.originalError=null!=u?u:void 0,this.nodes=I(Array.isArray(s)?s:s?[s]:void 0);const p=I(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=o?o:null==p||null===(i=p[0])||void 0===i?void 0:i.source,this.positions=null!=a?a:null==p?void 0:p.map((e=>e.start)),this.locations=a&&o?a.map((e=>y(o,e))):null==p?void 0:p.map((e=>y(e.source,e.start)));const h="object"==typeof(d=null==u?void 0:u.extensions)&&null!==d?null==u?void 0:u.extensions:void 0;var d;this.extensions=null!==(r=null!=l?l:h)&&void 0!==r?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,x):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+T((t=n.loc).source,y(t.source,t.start)));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+T(this.source,t);var t;return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function I(e){return void 0===e||0===e.length?void 0:e}function O(e){return 9===e||32===e}function k(e){return e>=48&&e<=57}function _(e){return e>=97&&e<=122||e>=65&&e<=90}function g(e){return _(e)||95===e}function A(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let t=0;t<e.length;++t){var s;const o=e[t],a=D(o);a!==o.length&&(i=null!==(s=i)&&void 0!==s?s:t,r=t,0!==t&&a<n&&(n=a))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=i)&&void 0!==t?t:0,r+1)}function D(e){let t=0;for(;t<e.length&&O(e.charCodeAt(t));)++t;return t}const S=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function C(e){return b[e.charCodeAt(0)]}const b=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],R={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>L(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=P("(",L(e.variableDefinitions,", "),")"),n=L([e.operation,L([e.name,t]),L(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:i})=>e+": "+t+P(" = ",n)+P(" ",L(i," "))},SelectionSet:{leave:({selections:e})=>w(e)},Field:{leave({alias:e,name:t,arguments:n,directives:i,selectionSet:r}){const s=P("",e,": ")+t;let o=s+P("(",L(n,", "),")");return o.length>80&&(o=s+P("(\n",F(L(n,"\n")),"\n)")),L([o,L(i," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+P(" ",L(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>L(["...",P("on ",e),L(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:i,selectionSet:r})=>`fragment ${e}${P("(",L(n,", "),")")} on ${t} ${P("",L(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=1===i.length,s=i.length>1&&i.slice(1).every((e=>0===e.length||O(e.charCodeAt(0)))),o=n.endsWith('\\"""'),a=e.endsWith('"')&&!o,c=e.endsWith("\\"),u=a||c,l=!r||e.length>70||u||s||o;let p="";const h=r&&O(e.charCodeAt(0));return(l&&!h||s)&&(p+="\n"),p+=n,(l||u)&&(p+="\n"),'"""'+p+'"""'}(e):`"${e.replace(S,C)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+L(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+L(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+P("(",L(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>P("",e,"\n")+L(["schema",L(t," "),w(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>P("",e,"\n")+L(["scalar",t,L(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>P("",e,"\n")+L(["type",t,P("implements ",L(n," & ")),L(i," "),w(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:i,directives:r})=>P("",e,"\n")+t+(M(n)?P("(\n",F(L(n,"\n")),"\n)"):P("(",L(n,", "),")"))+": "+i+P(" ",L(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:i,directives:r})=>P("",e,"\n")+L([t+": "+n,P("= ",i),L(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>P("",e,"\n")+L(["interface",t,P("implements ",L(n," & ")),L(i," "),w(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:i})=>P("",e,"\n")+L(["union",t,L(n," "),P("= ",L(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:i})=>P("",e,"\n")+L(["enum",t,L(n," "),w(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>P("",e,"\n")+L([t,L(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:i})=>P("",e,"\n")+L(["input",t,L(n," "),w(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:i,locations:r})=>P("",e,"\n")+"directive @"+t+(M(n)?P("(\n",F(L(n,"\n")),"\n)"):P("(",L(n,", "),")"))+(i?" repeatable":"")+" on "+L(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>L(["extend schema",L(e," "),w(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>L(["extend scalar",e,L(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>L(["extend type",e,P("implements ",L(t," & ")),L(n," "),w(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>L(["extend interface",e,P("implements ",L(t," & ")),L(n," "),w(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>L(["extend union",e,L(t," "),P("= ",L(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>L(["extend enum",e,L(t," "),w(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>L(["extend input",e,L(t," "),w(n)]," ")}};function L(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function w(e){return P("{\n",F(L(e,"\n")),"\n}")}function P(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function F(e){return P("  ",e.replace(/\n/g,"\n  "))}function M(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}function U(e,t,n){return new x(`Syntax Error: ${n}`,{source:e,positions:[t]})}var B,V,j;!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(B||(B={})),(j=V||(V={})).SOF="<SOF>",j.EOF="<EOF>",j.BANG="!",j.DOLLAR="$",j.AMP="&",j.PAREN_L="(",j.PAREN_R=")",j.SPREAD="...",j.COLON=":",j.EQUALS="=",j.AT="@",j.BRACKET_L="[",j.BRACKET_R="]",j.BRACE_L="{",j.PIPE="|",j.BRACE_R="}",j.NAME="Name",j.INT="Int",j.FLOAT="Float",j.STRING="String",j.BLOCK_STRING="BlockString",j.COMMENT="Comment";class q{constructor(e){const t=new c(V.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==V.EOF)do{if(e.next)e=e.next;else{const t=X(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===V.COMMENT);return e}}function $(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function K(e,t){return G(e.charCodeAt(t))&&Y(e.charCodeAt(t+1))}function G(e){return e>=55296&&e<=56319}function Y(e){return e>=56320&&e<=57343}function J(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return V.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Q(e,t,n,i,r){const s=e.line,o=1+n-e.lineStart;return new c(t,n,i,s,o,r)}function X(e,t){const n=e.source.body,i=n.length;let r=t;for(;r<i;){const t=n.charCodeAt(r);switch(t){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:10===n.charCodeAt(r+1)?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return z(e,r);case 33:return Q(e,V.BANG,r,r+1);case 36:return Q(e,V.DOLLAR,r,r+1);case 38:return Q(e,V.AMP,r,r+1);case 40:return Q(e,V.PAREN_L,r,r+1);case 41:return Q(e,V.PAREN_R,r,r+1);case 46:if(46===n.charCodeAt(r+1)&&46===n.charCodeAt(r+2))return Q(e,V.SPREAD,r,r+3);break;case 58:return Q(e,V.COLON,r,r+1);case 61:return Q(e,V.EQUALS,r,r+1);case 64:return Q(e,V.AT,r,r+1);case 91:return Q(e,V.BRACKET_L,r,r+1);case 93:return Q(e,V.BRACKET_R,r,r+1);case 123:return Q(e,V.BRACE_L,r,r+1);case 124:return Q(e,V.PIPE,r,r+1);case 125:return Q(e,V.BRACE_R,r,r+1);case 34:return 34===n.charCodeAt(r+1)&&34===n.charCodeAt(r+2)?se(e,r):Z(e,r)}if(k(t)||45===t)return H(e,r,t);if(g(t))return oe(e,r);throw U(e.source,r,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":$(t)||K(n,r)?`Unexpected character: ${J(e,r)}.`:`Invalid character: ${J(e,r)}.`)}return Q(e,V.EOF,i,i)}function z(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const e=n.charCodeAt(r);if(10===e||13===e)break;if($(e))++r;else{if(!K(n,r))break;r+=2}}return Q(e,V.COMMENT,t,r,n.slice(t+1,r))}function H(e,t,n){const i=e.source.body;let r=t,s=n,o=!1;if(45===s&&(s=i.charCodeAt(++r)),48===s){if(s=i.charCodeAt(++r),k(s))throw U(e.source,r,`Invalid number, unexpected digit after 0: ${J(e,r)}.`)}else r=W(e,r,s),s=i.charCodeAt(r);if(46===s&&(o=!0,s=i.charCodeAt(++r),r=W(e,r,s),s=i.charCodeAt(r)),69!==s&&101!==s||(o=!0,s=i.charCodeAt(++r),43!==s&&45!==s||(s=i.charCodeAt(++r)),r=W(e,r,s),s=i.charCodeAt(r)),46===s||g(s))throw U(e.source,r,`Invalid number, expected digit but got: ${J(e,r)}.`);return Q(e,o?V.FLOAT:V.INT,t,r,i.slice(t,r))}function W(e,t,n){if(!k(n))throw U(e.source,t,`Invalid number, expected digit but got: ${J(e,t)}.`);const i=e.source.body;let r=t+1;for(;k(i.charCodeAt(r));)++r;return r}function Z(e,t){const n=e.source.body,i=n.length;let r=t+1,s=r,o="";for(;r<i;){const i=n.charCodeAt(r);if(34===i)return o+=n.slice(s,r),Q(e,V.STRING,t,r+1,o);if(92!==i){if(10===i||13===i)break;if($(i))++r;else{if(!K(n,r))throw U(e.source,r,`Invalid character within String: ${J(e,r)}.`);r+=2}}else{o+=n.slice(s,r);const t=117===n.charCodeAt(r+1)?123===n.charCodeAt(r+2)?ee(e,r):te(e,r):re(e,r);o+=t.value,r+=t.size,s=r}}throw U(e.source,r,"Unterminated string.")}function ee(e,t){const n=e.source.body;let i=0,r=3;for(;r<12;){const e=n.charCodeAt(t+r++);if(125===e){if(r<5||!$(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|ie(e),i<0)break}throw U(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}function te(e,t){const n=e.source.body,i=ne(n,t+2);if($(i))return{value:String.fromCodePoint(i),size:6};if(G(i)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=ne(n,t+8);if(Y(e))return{value:String.fromCodePoint(i,e),size:12}}throw U(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function ne(e,t){return ie(e.charCodeAt(t))<<12|ie(e.charCodeAt(t+1))<<8|ie(e.charCodeAt(t+2))<<4|ie(e.charCodeAt(t+3))}function ie(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function re(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw U(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function se(e,t){const n=e.source.body,i=n.length;let r=e.lineStart,s=t+3,o=s,a="";const c=[];for(;s<i;){const i=n.charCodeAt(s);if(34===i&&34===n.charCodeAt(s+1)&&34===n.charCodeAt(s+2)){a+=n.slice(o,s),c.push(a);const i=Q(e,V.BLOCK_STRING,t,s+3,A(c).join("\n"));return e.line+=c.length-1,e.lineStart=r,i}if(92!==i||34!==n.charCodeAt(s+1)||34!==n.charCodeAt(s+2)||34!==n.charCodeAt(s+3))if(10!==i&&13!==i)if($(i))++s;else{if(!K(n,s))throw U(e.source,s,`Invalid character within String: ${J(e,s)}.`);s+=2}else a+=n.slice(o,s),c.push(a),13===i&&10===n.charCodeAt(s+1)?s+=2:++s,a="",o=s,r=s;else a+=n.slice(o,s),o=s+1,s+=4}throw U(e.source,s,"Unterminated string.")}function oe(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i&&(_(s=n.charCodeAt(r))||k(s)||95===s);)++r;var s;return Q(e,V.NAME,t,r,n.slice(t,r))}class ae{constructor(e,t="GraphQL request",i={line:1,column:1}){"string"==typeof e||n(!1,`Body must be a string. Received: ${s(e)}.`),this.body=e,this.name=t,this.locationOffset=i,this.locationOffset.line>0||n(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||n(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class ce{constructor(e,t={}){const n=function(e){return e instanceof ae}(e)?e:new ae(e);this._lexer=new q(n),this._options=t,this._tokenCounter=0}parseName(){const t=this.expectToken(V.NAME);return this.node(t,{kind:e.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:e.DOCUMENT,definitions:this.many(V.SOF,this.parseDefinition,V.EOF)})}parseDefinition(){if(this.peek(V.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===V.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw U(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(V.BRACE_L))return this.node(t,{kind:e.OPERATION_DEFINITION,operation:h.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let i;return this.peek(V.NAME)&&(i=this.parseName()),this.node(t,{kind:e.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(V.NAME);switch(e.value){case"query":return h.QUERY;case"mutation":return h.MUTATION;case"subscription":return h.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(V.PAREN_L,this.parseVariableDefinition,V.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:e.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(V.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(V.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(V.DOLLAR),this.node(t,{kind:e.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:e.SELECTION_SET,selections:this.many(V.BRACE_L,this.parseSelection,V.BRACE_R)})}parseSelection(){return this.peek(V.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,r;return this.expectOptionalToken(V.COLON)?(i=n,r=this.parseName()):r=n,this.node(t,{kind:e.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(V.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(V.PAREN_L,t,V.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(V.COLON),this.node(n,{kind:e.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(V.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(V.NAME)?this.node(t,{kind:e.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:e.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(t,{kind:e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case V.BRACKET_L:return this.parseList(t);case V.BRACE_L:return this.parseObject(t);case V.INT:return this.advanceLexer(),this.node(n,{kind:e.INT,value:n.value});case V.FLOAT:return this.advanceLexer(),this.node(n,{kind:e.FLOAT,value:n.value});case V.STRING:case V.BLOCK_STRING:return this.parseStringLiteral();case V.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:e.BOOLEAN,value:!0});case"false":return this.node(n,{kind:e.BOOLEAN,value:!1});case"null":return this.node(n,{kind:e.NULL});default:return this.node(n,{kind:e.ENUM,value:n.value})}case V.DOLLAR:if(t){if(this.expectToken(V.DOLLAR),this._lexer.token.kind===V.NAME){const e=this._lexer.token.value;throw U(this._lexer.source,n.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(n)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:e.STRING,value:t.value,block:t.kind===V.BLOCK_STRING})}parseList(t){return this.node(this._lexer.token,{kind:e.LIST,values:this.any(V.BRACKET_L,(()=>this.parseValueLiteral(t)),V.BRACKET_R)})}parseObject(t){return this.node(this._lexer.token,{kind:e.OBJECT,fields:this.any(V.BRACE_L,(()=>this.parseObjectField(t)),V.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(V.COLON),this.node(n,{kind:e.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(e){const t=[];for(;this.peek(V.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(V.AT),this.node(n,{kind:e.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(V.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(V.BRACKET_R),n=this.node(t,{kind:e.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(V.BANG)?this.node(t,{kind:e.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:e.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(V.STRING)||this.peek(V.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(V.BRACE_L,this.parseOperationTypeDefinition,V.BRACE_R);return this.node(t,{kind:e.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(V.COLON);const i=this.parseNamedType();return this.node(t,{kind:e.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:e.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:e.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(V.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(V.BRACE_L,this.parseFieldDefinition,V.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(V.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:e.FIELD_DEFINITION,description:n,name:i,arguments:r,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(V.PAREN_L,this.parseInputValueDef,V.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(V.COLON);const r=this.parseTypeReference();let s;this.expectOptionalToken(V.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:e.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:e.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:s,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(t,{kind:e.UNION_TYPE_DEFINITION,description:n,name:i,directives:r,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(V.EQUALS)?this.delimitedMany(V.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(t,{kind:e.ENUM_TYPE_DEFINITION,description:n,name:i,directives:r,values:s})}parseEnumValuesDefinition(){return this.optionalMany(V.BRACE_L,this.parseEnumValueDefinition,V.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:e.ENUM_VALUE_DEFINITION,description:n,name:i,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw U(this._lexer.source,this._lexer.token.start,`${ue(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(t,{kind:e.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:r,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(V.BRACE_L,this.parseInputValueDef,V.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===V.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(V.BRACE_L,this.parseOperationTypeDefinition,V.BRACE_R);if(0===n.length&&0===i.length)throw this.unexpected();return this.node(t,{kind:e.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(0===i.length)throw this.unexpected();return this.node(t,{kind:e.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(0===i.length&&0===r.length&&0===s.length)throw this.unexpected();return this.node(t,{kind:e.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(0===i.length&&0===r.length&&0===s.length)throw this.unexpected();return this.node(t,{kind:e.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:s})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===i.length&&0===r.length)throw this.unexpected();return this.node(t,{kind:e.UNION_TYPE_EXTENSION,name:n,directives:i,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===i.length&&0===r.length)throw this.unexpected();return this.node(t,{kind:e.ENUM_TYPE_EXTENSION,name:n,directives:i,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===i.length&&0===r.length)throw this.unexpected();return this.node(t,{kind:e.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(V.AT);const i=this.parseName(),r=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:e.DIRECTIVE_DEFINITION,description:n,name:i,arguments:r,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(V.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(B,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new a(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw U(this._lexer.source,t.start,`Expected ${le(e)}, found ${ue(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==V.NAME||t.value!==e)throw U(this._lexer.source,t.start,`Expected "${e}", found ${ue(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===V.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return U(this._lexer.source,t.start,`Unexpected ${ue(t)}.`)}any(e,t,n){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(n);)i.push(t.call(this));return i}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==V.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw U(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function ue(e){const t=e.value;return le(e.kind)+(null!=t?` "${t}"`:"")}function le(e){return function(e){return e===V.BANG||e===V.DOLLAR||e===V.AMP||e===V.PAREN_L||e===V.PAREN_R||e===V.SPREAD||e===V.COLON||e===V.EQUALS||e===V.AT||e===V.BRACKET_L||e===V.BRACKET_R||e===V.BRACE_L||e===V.PIPE||e===V.BRACE_R}(e)?`"${e}"`:e}var pe,he;!function(e){e[e.Pull=0]="Pull",e[e.Close=1]="Close"}(pe||(pe={})),function(e){e[e.Start=0]="Start",e[e.Push=1]="Push",e[e.End=0]="End"}(he||(he={}));var de=()=>{},fe=de;function ve(e){var t=[e];return t.tag=he.Start,t}function Ee(e){var t=[e];return t.tag=he.Push,t}var me=e=>e;function ye(e){return t=>n=>{var i=fe;t((t=>{t===he.End?n(he.End):t.tag===he.Start?(i=t[0],n(t)):e(t[0])?n(t):i(pe.Pull)}))}}function Te(e){return t=>n=>t((t=>{t===he.End||t.tag===he.Start?n(t):n(Ee(e(t[0])))}))}function Ne(e){return t=>n=>{var i=[],r=fe,s=!1,o=!1;t((t=>{o||(t===he.End?(o=!0,i.length||n(he.End)):t.tag===he.Start?r=t[0]:(s=!1,function(e){var t=fe;e((e=>{if(e===he.End){if(i.length){var a=i.indexOf(t);a>-1&&(i=i.slice()).splice(a,1),i.length||(o?n(he.End):s||(s=!0,r(pe.Pull)))}}else e.tag===he.Start?(i.push(t=e[0]),t(pe.Pull)):i.length&&(n(e),t(pe.Pull))}))}(e(t[0])),s||(s=!0,r(pe.Pull))))})),n(ve((e=>{if(e===pe.Close){o||(o=!0,r(pe.Close));for(var t=0,n=i,a=i.length;t<a;t++)n[t](pe.Close);i.length=0}else{o||s?s=!1:(s=!0,r(pe.Pull));for(var c=0,u=i,l=i.length;c<l;c++)u[c](pe.Pull)}})))}}function xe(e){return function(e){return Ne(me)(e)}(Se(e))}function Ie(e){return t=>n=>{var i=!1;t((t=>{if(i);else if(t===he.End)i=!0,n(he.End),e();else if(t.tag===he.Start){var r=t[0];n(ve((t=>{t===pe.Close?(i=!0,r(pe.Close),e()):r(t)})))}else n(t)}))}}function Oe(e){return t=>n=>{var i=!1;t((t=>{if(i);else if(t===he.End)i=!0,n(he.End);else if(t.tag===he.Start){var r=t[0];n(ve((e=>{e===pe.Close&&(i=!0),r(e)})))}else e(t[0]),n(t)}))}}function ke(e){return t=>n=>t((t=>{t===he.End?n(he.End):t.tag===he.Start?(n(t),e()):n(t)}))}function _e(e){var t=[],n=fe,i=!1;return r=>{t.push(r),1===t.length&&e((e=>{if(e===he.End){for(var r=0,s=t,o=t.length;r<o;r++)s[r](he.End);t.length=0}else if(e.tag===he.Start)n=e[0];else{i=!1;for(var a=0,c=t,u=t.length;a<u;a++)c[a](e)}})),r(ve((e=>{if(e===pe.Close){var s=t.indexOf(r);s>-1&&(t=t.slice()).splice(s,1),t.length||n(pe.Close)}else i||(i=!0,n(pe.Pull))})))}}function ge(e){return t=>n=>{var i=fe,r=fe,s=!1,o=!1,a=!1,c=!1;t((t=>{var u;c||(t===he.End?(c=!0,a||n(he.End)):t.tag===he.Start?i=t[0]:(a&&(r(pe.Close),r=fe),s?s=!1:(s=!0,i(pe.Pull)),u=e(t[0]),a=!0,u((e=>{a&&(e===he.End?(a=!1,c?n(he.End):s||(s=!0,i(pe.Pull))):e.tag===he.Start?(o=!1,(r=e[0])(pe.Pull)):(n(e),o?o=!1:r(pe.Pull)))}))))})),n(ve((e=>{e===pe.Close?(c||(c=!0,i(pe.Close)),a&&(a=!1,r(pe.Close))):(c||s||(s=!0,i(pe.Pull)),a&&!o&&(o=!0,r(pe.Pull)))})))}}function Ae(e){return t=>n=>{var i=fe,r=!1,s=0;t((t=>{r||(t===he.End?(r=!0,n(he.End)):t.tag===he.Start?e<=0?(r=!0,n(he.End),t[0](pe.Close)):i=t[0]:s++<e?(n(t),!r&&s>=e&&(r=!0,n(he.End),i(pe.Close))):n(t))})),n(ve((t=>{t!==pe.Close||r?t===pe.Pull&&!r&&s<e&&i(pe.Pull):(r=!0,i(pe.Close))})))}}function De(e){return t=>n=>{var i=fe,r=fe,s=!1;t((t=>{s||(t===he.End?(s=!0,r(pe.Close),n(he.End)):t.tag===he.Start?(i=t[0],e((e=>{e===he.End||(e.tag===he.Start?(r=e[0])(pe.Pull):(s=!0,r(pe.Close),i(pe.Close),n(he.End)))}))):n(t))})),n(ve((e=>{e!==pe.Close||s?s||i(pe.Pull):(s=!0,i(pe.Close),r(pe.Close))})))}}var Se=function(e){return e[Symbol.asyncIterator]?function(e){return t=>{var n,i=e[Symbol.asyncIterator](),r=!1,s=!1,o=!1;t(ve((async e=>{if(e===pe.Close)r=!0,i.return&&i.return();else if(s)o=!0;else{for(o=s=!0;o&&!r;)if((n=await i.next()).done)r=!0,i.return&&await i.return(),t(he.End);else try{o=!1,t(Ee(n.value))}catch(e){if(!i.throw)throw e;(r=!!(await i.throw(e)).done)&&t(he.End)}s=!1}})))}}(e):t=>{var n,i=e[Symbol.iterator](),r=!1,s=!1,o=!1;t(ve((e=>{if(e===pe.Close)r=!0,i.return&&i.return();else if(s)o=!0;else{for(o=s=!0;o&&!r;)if((n=i.next()).done)r=!0,i.return&&i.return(),t(he.End);else try{o=!1,t(Ee(n.value))}catch(e){if(!i.throw)throw e;(r=!!i.throw(e).done)&&t(he.End)}s=!1}})))}};function Ce(e){return t=>{var n=!1;t(ve((i=>{i===pe.Close?n=!0:n||(n=!0,t(Ee(e)),t(he.End))})))}}function be(e){return t=>{var n=!1,i=e({next(e){n||t(Ee(e))},complete(){n||(n=!0,t(he.End))}});t(ve((e=>{e!==pe.Close||n||(n=!0,i())})))}}function Re(e){return t=>{var n=fe,i=!1;return t((t=>{t===he.End?i=!0:t.tag===he.Start?(n=t[0])(pe.Pull):i||(e(t[0]),n(pe.Pull))})),{unsubscribe(){i||(i=!0,n(pe.Close))}}}}var Le=e=>"string"==typeof e?new x(e):"object"==typeof e&&e.message?new x(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e;class we extends Error{constructor(e){var t=(e.graphQLErrors||[]).map(Le),n=((e,t)=>{var n="";if(e)return`[Network] ${e.message}`;if(t)for(var i of t)n&&(n+="\n"),n+=`[GraphQL] ${i.message}`;return n})(e.networkError,t);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=t,this.networkError=e.networkError,this.response=e.response}toString(){return this.message}}var Pe=(e,t)=>{for(var n="number"==typeof t?0|t:5381,i=0,r=0|e.length;i<r;i++)n=(n<<5)+n+e.charCodeAt(i);return n},Fe=new Set,Me=new WeakMap,Ue=e=>{if(null===e||Fe.has(e))return"null";if("object"!=typeof e)return JSON.stringify(e)||"";if(e.toJSON)return Ue(e.toJSON());if(Array.isArray(e)){var t="[";for(var n of e)"["!==t&&(t+=","),t+=(n=Ue(n)).length>0?n:"null";return t+"]"}var i=Object.keys(e).sort();if(!i.length&&e.constructor&&e.constructor!==Object){var r=Me.get(e)||Math.random().toString(36).slice(2);return Me.set(e,r),`{"__key":"${r}"}`}Fe.add(e);var s="{";for(var o of i){var a=Ue(e[o]);a&&(s.length>1&&(s+=","),s+=Ue(o)+":"+a)}return Fe.delete(e),s+"}"},Be=e=>(Fe.clear(),Ue(e)),Ve=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,je=/(#[^\n\r]+)?(?:\n|\r\n?|$)+/g,qe=(e,t)=>t%2==0?e.replace(je,"\n"):e,$e=e=>e.split(Ve).map(qe).join("").trim(),Ke=new Map,Ge=new Map,Ye=e=>{var t;return"string"==typeof e?t=$e(e):e.loc&&Ge.get(e.__key)===e?t=e.loc.source.body:(t=Ke.get(e)||$e(f(e,R)),Ke.set(e,t)),"string"==typeof e||e.loc||(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},Je=e=>{var t=Pe(Ye(e));if("object"==typeof e&&"definitions"in e){var n=ze(e);n&&(t=Pe(`\n# ${n}`,t))}return t},Qe=e=>{var t,n;return"string"==typeof e?(t=Je(e),n=Ge.get(t)||new ce(e,{noLocation:!0}).parseDocument()):(t=e.__key||Je(e),n=Ge.get(t)||e),n.loc||Ye(n),n.__key=t,Ge.set(t,n),n},Xe=(e,t)=>{t||(t={});var n=Qe(e),i=Be(t),r=n.__key;return"{}"!==i&&(r=Pe(i,r)),{key:r,query:n,variables:t}},ze=t=>{for(var n of t.definitions)if(n.kind===e.OPERATION_DEFINITION&&n.name)return n.name.value},He=(e,t,n)=>{if(!("data"in t)&&!("errors"in t)||"path"in t)throw new Error("No Content");return{operation:e,data:t.data,error:Array.isArray(t.errors)?new we({graphQLErrors:t.errors,response:n}):void 0,extensions:"object"==typeof t.extensions&&t.extensions||void 0,hasNext:!!t.hasNext}},We=(e,t,n)=>{var i={...e};if(i.hasNext=!!t.hasNext,!("path"in t))return"data"in t&&(i.data=t.data),i;Array.isArray(t.errors)&&(i.error=new we({graphQLErrors:i.error?[...i.error.graphQLErrors,...t.errors]:t.errors,response:n}));for(var r,s=i.data={...i.data},o=0;o<t.path.length;)s=s[r=t.path[o++]]=Array.isArray(s[r])?[...s[r]]:{...s[r]};return Object.assign(s,t.data),i},Ze=(e,t,n)=>({operation:e,data:void 0,error:new we({networkError:t,response:n}),extensions:void 0}),et="undefined"!=typeof TextDecoder?new TextDecoder:null,tt=/content-type:[^\r\n]*application\/json/i,nt=/boundary="?([^=";]+)"?/i,it=(e,t)=>{if(Array.isArray(e))for(var n of e)it(n,t);else if("object"==typeof e&&null!==e)for(var i in e)"__typename"===i&&"string"==typeof e[i]?t.add(e[i]):it(e[i],t);return t},rt=t=>{if(!t.selectionSet)return t;for(var n of t.selectionSet.selections)if(n.kind===e.FIELD&&"__typename"===n.name.value&&!n.alias)return t;return{...t,selectionSet:{...t.selectionSet,selections:[...t.selectionSet.selections,{kind:e.FIELD,name:{kind:e.NAME,value:"__typename"}}]}}},st=new Map,ot=(e,t)=>{if(e&&"object"==typeof e){if(Array.isArray(e))return e.map((e=>ot(e)));if(e&&"object"==typeof e&&(t||"__typename"in e)){var n={};for(var i in e)"__typename"===i?Object.defineProperty(n,"__typename",{enumerable:!1,value:e.__typename}):n[i]=ot(e[i]);return n}return e}return e};function at(e){return e.toPromise=()=>new Promise((t=>{var n=Re((e=>{e.stale||e.hasNext||Promise.resolve().then((()=>{n.unsubscribe(),t(e)}))}))(e)})),e}function ct(e,t,n){return n||(n=t.context),{key:t.key,query:t.query,variables:t.variables,kind:e,context:n}}var ut=(e,t)=>ct(e.kind,e,{...e.context,meta:{...e.context.meta,...t}}),lt=()=>{},pt=({kind:e})=>"mutation"!==e&&"query"!==e,ht=(e,t)=>e.reexecuteOperation(ct(t.kind,t,{...t.context,requestPolicy:"network-only"})),dt=(new Set,({dispatchDebug:e})=>e=>ye((()=>!1))(Oe((e=>{e.kind}))(e))),ft=(dt({dispatchDebug:lt}),[({forward:e,dispatchDebug:t})=>{var n=new Set,i=e=>{var{key:t,kind:i}=e;if("teardown"===i||"mutation"===i)return n.delete(t),!0;var r=n.has(t);return n.add(t),!r},r=({operation:e,hasNext:t})=>{t||n.delete(e.key)};return t=>{var n=ye(i)(t);return Oe(r)(e(n))}},({forward:e,client:t,dispatchDebug:n})=>{var i=new Map,r=new Map,s=e=>{var t=ct(e.kind,e);return t.query=(e=>{var t=Qe(e),n=st.get(t.__key);return n||(n=f(t,{Field:rt,InlineFragment:rt}),Object.defineProperty(n,"__key",{value:t.__key,enumerable:!1}),st.set(t.__key,n)),n})(e.query),t},o=e=>{var{key:t,kind:n,context:{requestPolicy:r}}=e;return"query"===n&&"network-only"!==r&&("cache-only"===r||i.has(t))};return n=>{var a=_e(n),c=Te((e=>{var n=i.get(e.key),r={...n,operation:ut(e,{cacheOutcome:n?"hit":"miss"})};return"cache-and-network"===e.context.requestPolicy&&(r.stale=!0,ht(t,e)),r}))(ye((e=>!pt(e)&&o(e)))(a)),u=Oe((e=>{var{operation:n}=e;if(n){var s=(e=>[...it(e,new Set)])(e.data).concat(n.context.additionalTypenames||[]);if("mutation"===e.operation.kind){for(var o=new Set,a=0;a<s.length;a++){var c=s[a],u=r.get(c);for(var l of(u||r.set(c,u=new Set),u.values()))o.add(l);u.clear()}for(var p of o.values())i.has(p)&&(n=i.get(p).operation,i.delete(p),ht(t,n))}else if("query"===n.kind&&e.data){i.set(n.key,e);for(var h=0;h<s.length;h++){var d=s[h],f=r.get(d);f||r.set(d,f=new Set),f.add(n.key)}}}}))(e(ye((e=>"query"!==e.kind||"cache-only"!==e.context.requestPolicy))(Te((e=>ut(e,{cacheOutcome:"miss"})))(xe([Te(s)(ye((e=>!pt(e)&&!o(e)))(a)),ye((e=>pt(e)))(a)])))));return xe([c,u])}},({forward:e,dispatchDebug:t})=>t=>{var n=_e(t),i=Ne((e=>{var{key:t}=e,i=function(e){return{query:Ye(e.query),operationName:ze(e.query),variables:e.variables||void 0,extensions:void 0}}(e),r=((e,t)=>{var n="query"===e.kind&&e.context.preferGetMethod;if(!n||!t)return e.context.url;var i=new URL(e.context.url),r=i.searchParams;t.operationName&&r.set("operationName",t.operationName),t.query&&r.set("query",t.query),t.variables&&r.set("variables",Be(t.variables)),t.extensions&&r.set("extensions",Be(t.extensions));var s=i.toString();return s.length>2047&&"force"!==n?(e.context.preferGetMethod=!1,e.context.url):s})(e,i),s=((e,t)=>{var n="query"===e.kind&&!!e.context.preferGetMethod,i={accept:"application/graphql+json, application/json"};n||(i["content-type"]="application/json");var r=("function"==typeof e.context.fetchOptions?e.context.fetchOptions():e.context.fetchOptions)||{};if(r.headers)for(var s in r.headers)i[s.toLowerCase()]=r.headers[s];return{...r,body:!n&&t?JSON.stringify(t):void 0,method:n?"GET":"POST",headers:i}})(e,i),o=De(ye((e=>"teardown"===e.kind&&e.key===t))(n))(((e,t,n)=>{var i="manual"===n.redirect?400:300,r=e.context.fetch;return be((({next:s,complete:o})=>{var a="undefined"!=typeof AbortController?new AbortController:null;a&&(n.signal=a.signal);var c,u=!1,l=!1,p=!1;return Promise.resolve().then((()=>{if(!l)return(r||fetch)(t,n)})).then((t=>{if(t)return p=(c=t).status<200||c.status>=i,((e,t,n)=>{var i=n.headers&&n.headers.get("Content-Type")||"";if(/text\//i.test(i))return n.text().then((i=>{e(Ze(t,new Error(i),n))}));if(!/multipart\/mixed/i.test(i))return n.text().then((i=>{e(He(t,JSON.parse(i),n))}));var r,s="---",o=i.match(nt);o&&(s="--"+o[1]);var a=()=>{};if(n[Symbol.asyncIterator]){var c=n[Symbol.asyncIterator]();r=c.next.bind(c)}else{if(!("body"in n)||!n.body)throw new TypeError("Streaming requests unsupported");var l=n.body.getReader();a=()=>l.cancel(),r=()=>l.read()}var p="",h=!0,d=null,f=null;return r().then((function i(o){if(o.done)u=!0;else{var a="Buffer"===(N=o.value).constructor.name?N.toString():et.decode(N),c=a.indexOf(s);for(c>-1?c+=p.length:c=p.indexOf(s),p+=a;c>-1;){var l=p.slice(0,c),v=p.slice(c+s.length);if(h)h=!1;else{var E=l.indexOf("\r\n\r\n")+4,m=l.slice(0,E),y=l.slice(E,l.lastIndexOf("\r\n")),T=void 0;if(tt.test(m))try{T=JSON.parse(y),d=f=f?We(f,T,n):He(t,T,n)}catch(e){}if("--"===v.slice(0,2)||T&&!T.hasNext){if(!f)return e(He(t,{},n));break}}c=(p=v).indexOf(s)}}var N;if(d&&(e(d),d=null),!o.done&&(!f||f.hasNext))return r().then(i)})).finally(a)})(s,e,c)})).then(o).catch((t=>{if(u)throw t;var n=Ze(e,p&&c.statusText?new Error(c.statusText):t,c);s(n),o()})),()=>{l=!0,a&&a.abort()}}))})(e,r,s));return o}))(ye((e=>"query"===e.kind||"mutation"===e.kind))(n));return xe([i,e(ye((e=>"query"!==e.kind&&"mutation"!==e.kind))(n))])}]),vt=function t(n){var i=0,r=new Map,s=new Map,o=[],a={url:n.url,fetchOptions:n.fetchOptions,fetch:n.fetch,preferGetMethod:!!n.preferGetMethod,requestPolicy:n.requestPolicy||"cache-first"},{source:c,next:u}=function(){var e,t;return{source:_e(be((n=>(e=n.next,t=n.complete,de)))),next(t){e&&e(t)},complete(){t&&t()}}}(),l=!1;function p(e){if(e&&u(e),!l){for(l=!0;l&&(e=o.shift());)u(e);l=!1}}var h=e=>{var t=ye((t=>t.operation.kind===e.kind&&t.operation.key===e.key&&(!t.operation.context._instance||t.operation.context._instance===e.context._instance)))(m);return n.maskTypename&&(t=Te((e=>({...e,data:ot(e.data,!0)})))(t)),"mutation"===e.kind?Ae(1)(ke((()=>u(e)))(t)):_e(Ie((()=>{r.delete(e.key),s.delete(e.key);for(var t=o.length-1;t>=0;t--)o[t].key===e.key&&o.splice(t,1);u(ct("teardown",e,e.context))}))(Oe((t=>{r.set(e.key,t)}))(ge((t=>"query"!==e.kind||t.stale?Ce(t):xe([Ce(t),Te((()=>({...t,stale:!0})))(Ae(1)(ye((t=>"query"===t.kind&&t.key===e.key&&"cache-only"!==t.context.requestPolicy))(c)))])))(De(ye((t=>"teardown"===t.kind&&t.key===e.key))(c))(t)))))},d=this instanceof t?this:Object.create(t.prototype),f=Object.assign(d,{suspense:!!n.suspense,operations$:c,reexecuteOperation(e){("mutation"===e.kind||s.has(e.key))&&(o.push(e),Promise.resolve().then(p))},createRequestOperation:(t,n,r)=>(r||(r={}),(t=>{for(var n of t.definitions)if(n.kind===e.OPERATION_DEFINITION)return n.operation})(n.query),ct(t,n,{_instance:"mutation"===t?i=i+1|0:void 0,...a,...r,requestPolicy:r.requestPolicy||a.requestPolicy,suspense:r.suspense||!1!==r.suspense&&f.suspense})),executeRequestOperation:e=>"mutation"===e.kind?h(e):be((t=>{var n=s.get(e.key);n||s.set(e.key,n=h(e));var i="cache-and-network"===e.context.requestPolicy||"network-only"===e.context.requestPolicy;return Re(t.next)(Ie((()=>{l=!1,t.complete()}))(ke((()=>{var n=r.get(e.key);if("subscription"===e.kind)return p(e);i&&p(e),null!=n&&n===r.get(e.key)?t.next(i?{...n,stale:!0}:n):i||p(e)}))(n))).unsubscribe})),executeQuery(e,t){var n=f.createRequestOperation("query",e,t);return f.executeRequestOperation(n)},executeSubscription(e,t){var n=f.createRequestOperation("subscription",e,t);return f.executeRequestOperation(n)},executeMutation(e,t){var n=f.createRequestOperation("mutation",e,t);return f.executeRequestOperation(n)},query:(e,t,n)=>(n&&"boolean"==typeof n.suspense||(n={...n,suspense:!1}),at(f.executeQuery(Xe(e,t),n))),readQuery(e,t,n){var i=null;return Re((e=>{i=e}))(f.query(e,t,n)).unsubscribe(),i},subscription:(e,t,n)=>f.executeSubscription(Xe(e,t),n),mutation:(e,t,n)=>at(f.executeMutation(Xe(e,t),n))}),v=lt,E=(e=>({client:t,forward:n,dispatchDebug:i})=>e.reduceRight(((e,n)=>n({client:t,forward:e,dispatchDebug(e){}})),n))(void 0!==n.exchanges?n.exchanges:ft),m=_e(E({client:f,dispatchDebug:v,forward:dt({dispatchDebug:v})})(c));return function(e){Re((e=>{}))(e)}(m),f};window.addEventListener("load",(e=>{vt({url:"http://localhost:8080/graphql"}).query("\n      query HelloWorld ($name: String) {\n        hello(name: $name) {\n          message\n        }\n      }\n    ",{name:"World"}).toPromise().then((e=>{console.log(e)}))}))})();